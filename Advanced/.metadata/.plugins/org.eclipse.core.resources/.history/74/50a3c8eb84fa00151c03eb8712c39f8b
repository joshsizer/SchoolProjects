package main;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

public class Main {
	public static final Scanner userInput = new Scanner(System.in);
	public static void main(String[] args) {
		Library myLib = null;
		
		System.out.print("Do you want load books from file? (1 for yes, 2 for no): ");
		int loadFromFile = promptForNumber();
		while (loadFromFile != 1 && loadFromFile != 2) {
			System.out.println("Enter a 1 or 2: ");
			loadFromFile = promptForNumber();
		}
		
		if (loadFromFile == 1) {
			try {
				myLib = new Library(new File("books.txt"));
			} catch (FileNotFoundException e) {
				System.out.println("Could not locate file. No books loaded.");
			}
		} else {
			myLib = new Library();
		}
		
		int toDo = homePage;
		while (toDo > 0) {
			toDo = homePage();
		}
		
	}
	
	public static void addBooksFromUser(int num, Library lib) {
		String title = "";
		String author = "";
		String subject = "";
		String ISBN = "";
		String pages = "";
		
		for (int i = 1; i < num; i++) {
			System.out.println("Book" + num + ":");
			System.out.print("Enter title: ");
			title = askTillNotEmpty();
			System.out.print("Enter author: ");
			author = askTillNotEmpty();
			System.out.print("Enter subject: ");
			subject = askTillNotEmpty();
			System.out.print("Enter ISBN: ");
			ISBN = askTillNotEmpty();
			System.out.print("Enter pages: ");
			pages = askTillNotEmpty();
			
			int i_pages = 0;
			try { 
				i_pages = Integer.parseInt(pages);
			} catch (NumberFormatException e) {}
			
			Book b = new Book(title, author, subject, ISBN, i_pages);
			lib.addBook(b);
		}
	}
	public static String askTillNotEmpty() {
		String input = userInput.nextLine();
		while (input.isEmpty()) {
			System.out.print("You must enter a value: ");
			input = userInput.nextLine();
		}
		return input;
	}
	
	public static int homePage() {
		System.out.println("Would you like to: ");
		System.out.println("1) Add books\n2) Add location\n3) Add librarian");
		return promptForNumber();
	}
	
	public static boolean isNumber(String s_num) {
		for (int i = 0; i < s_num.length(); i++) {
			if (s_num.charAt(i) < '0' || s_num.charAt(i) > '9')
				return false;
		}
		return true;
	}
	
	public static int promptForNumber() {
		String in = userInput.nextLine();
		while (!isNumber(in)) {
			System.out.println("Enter a number: ");
			in = userInput.nextLine();
		}
		return Integer.parseInt(in);
	}
}
